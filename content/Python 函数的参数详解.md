Title: Python 函数的参数详解
Date: 2019-10-12 21:23:48
Category: Python
Tags: Python 参数,参数默认值,关键字参数

## Python 函数中的参数类型

定义 Python 函数时，可以指定函数中的参数传入类型

1. 只能按照位置传入的参数（Python3.8 新增内容）
2. 只能根据关键字传入的参数
3. 可以 1，也可以 2。既可以按照位置传入的、也可以根据关键字传入的参数
4. 接受余下所有位置参数的参数
5. 接收余下所有关键字参数的参数

## 简单的 Python 函数定义

我们都知道，可以使用关键字 def 来定义一个函数：

    def fun(a,b,c):
        print(f"{a=}")
        print(f"{b=}")
        print(f"{c=}")


### 使用位置参数调用函数

在调用上面的函数时，使用：

    fun(1,2,3)

程序运行时，会按照位置，将参数 a,b,c 的值分别赋值成为 1,2,3，屏幕上会输出内容：

    a=1
    b=2
    c=3

这种根据位置确定的参数是位置参数。

### 使用关键字参数调用函数

让我们使用关键字参数调用上面的函数：

    fun(a=1,b=2,c=3)

会得到上面一样的结果。输出：

    a=1
    b=2
    c=3

随便调换参数的位置，像以下这样，调用方式也是合法的：

    fun(b=1,a=2,c=3)

控制台输出：

    a=2
    b=1
    c=3

说明程序根据参数的名称，来区分函数的值，这个时候不需要关心参数的位置。

我们还可以这样用：

    fun(1,b=2,c=3)

输出：

    a=1
    b=2
    c=3

注意，以下的调用时不合法的：

    fun(b=1,a=2,3)

控制台会输出：

    SyntaxError: positional argument follows keyword argument

Python 的语法**不允许关键字参数使用在位置参数前**。

思考下，这是为什么呢？这是很合理的设计，比如，如果这样调用函数：

    fun(b=1,2,3)

因为程序此时不能知道后面的 2,3 到底时赋值给谁的。

## 特殊的参数

在上面的函数定义中：

    def fun(a,b,c):
        print(f"{a=}")
        print(f"{b=}")
        print(f"{c=}")

函数 fun 的参数 a,b,c 既可以使用位置参数来调用，也可以使用关键字参数来调用。

不过，有的时候，需要限定函数参数的类型。

比如，某些参数的名称没有意义，则可以指定该参数只能是位置参数。

比如，不希望函数调用者关心传入参数的顺序，则指定参数类型位只能是关键字参数。

## 指定函数参数的类型

我们可以在定义函数的时候，就指定函数参数的类型。

一个函数的定义是这样的,注意函数参数的位置：

    def fun(pos1, pos2, /, pos_or_kwd, *, kwd1, kwd2):
            -----------    ----------     ----------
            |              |                  |
            |              咋传都行            |
            |                                  - 只能根据关键字传入的参数
            -- 只能按照指定位置传入的参数

在函数定义时，在 **/ 之前**的参数都是限制位置的参数。* 后面的参数都是只限制关键字的参数。看下面的函数：

    # 不限制的参数类型
    def standard_arg(arg):
        print(arg)

    # arg 是限制位置的
    def pos_only_arg(arg, /):
        print(arg)

    # arg 是必须使用关键字的
    def kwd_only_arg(*, arg):
        print(arg)

    # 三种参数类型都有了
    def combined_example(pos_only, /, standard, *, kwd_only):
        print(pos_only, standard, kwd_only)

## 参考

1. [Python docs](https://docs.python.org/3.8/)